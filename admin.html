<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administration - Calculateur de Devis Camping</title>
    <style>
        :root {
            --primary-color: #2c5530;
            --secondary-color: #4a8b3f;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1, h2 {
            color: var(--primary-color);
        }

        .config-section {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .tarifs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .tarif-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input[type="number"], input[type="color"], input[type="text"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        input[type="color"] {
            height: 40px;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }

        button:hover {
            background-color: var(--secondary-color);
        }

        .success-message {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <h1>Administration du Calculateur de Devis</h1>
    
    <div class="config-section">
        <h2>Tarifs par Saison</h2>
        
        <div class="tarifs-grid">
            <div class="tarif-item">
                <h3>Basse Saison</h3>
                <label>Date de début (JJ-MM):</label>
                <input type="text" id="basseSaisonDebut" pattern="[0-9]{2}-[0-9]{2}" placeholder="01-01">
                
                <label>Date de fin (JJ-MM):</label>
                <input type="text" id="basseSaisonFin" pattern="[0-9]{2}-[0-9]{2}" placeholder="30-06">
                
                <label>Prix adulte (€):</label>
                <input type="number" id="basseSaisonAdulte" min="0" step="0.5">
                
                <label>Prix enfant (€):</label>
                <input type="number" id="basseSaisonEnfant" min="0" step="0.5">
            </div>

            <div class="tarif-item">
                <h3>Moyenne Saison</h3>
                <label>Date de début (JJ-MM):</label>
                <input type="text" id="moyenneSaisonDebut" pattern="[0-9]{2}-[0-9]{2}" placeholder="01-07">
                
                <label>Date de fin (JJ-MM):</label>
                <input type="text" id="moyenneSaisonFin" pattern="[0-9]{2}-[0-9]{2}" placeholder="14-07">
                
                <label>Prix adulte (€):</label>
                <input type="number" id="moyenneSaisonAdulte" min="0" step="0.5">
                
                <label>Prix enfant (€):</label>
                <input type="number" id="moyenneSaisonEnfant" min="0" step="0.5">
            </div>

            <div class="tarif-item">
                <h3>Haute Saison</h3>
                <label>Date de début (JJ-MM):</label>
                <input type="text" id="hauteSaisonDebut" pattern="[0-9]{2}-[0-9]{2}" placeholder="15-07">
                
                <label>Date de fin (JJ-MM):</label>
                <input type="text" id="hauteSaisonFin" pattern="[0-9]{2}-[0-9]{2}" placeholder="31-08">
                
                <label>Prix adulte (€):</label>
                <input type="number" id="hauteSaisonAdulte" min="0" step="0.5">
                
                <label>Prix enfant (€):</label>
                <input type="number" id="hauteSaisonEnfant" min="0" step="0.5">
            </div>
        </div>
    </div>

    <div class="config-section">
        <h2>Services Supplémentaires</h2>
        <div class="tarifs-grid">
            <div class="tarif-item">
                <label>Électricité (€/jour):</label>
                <input type="number" id="prixElectricite" min="0" step="0.5">
            </div>
            
            <div class="tarif-item">
                <label>Véhicule supplémentaire (€/jour):</label>
                <input type="number" id="prixVehicule" min="0" step="0.5">
            </div>
            
            <div class="tarif-item">
                <label>Animal de compagnie (€/jour):</label>
                <input type="number" id="prixAnimal" min="0" step="0.5">
            </div>
        </div>
    </div>

    <div class="config-section">
        <h2>Personnalisation</h2>
        <div class="color-picker">
            <label>Couleur principale:</label>
            <input type="color" id="primaryColor" value="#2c5530">
        </div>
        <div class="color-picker">
            <label>Couleur secondaire:</label>
            <input type="color" id="secondaryColor" value="#4a8b3f">
        </div>
    </div>

    <button onclick="sauvegarderConfiguration()">Sauvegarder les modifications</button>
    <div id="successMessage" class="success-message">Configuration sauvegardée avec succès!</div>

    <script>
        // Charger la configuration existante
        function chargerConfiguration() {
            const config = JSON.parse(localStorage.getItem('campingConfig')) || {
                saisons: {
                    BASSE: {
                        debut: '01-01',
                        fin: '06-30',
                        prixAdulte: 7,
                        prixEnfant: 4
                    },
                    MOYENNE: {
                        debut: '07-01',
                        fin: '07-14',
                        prixAdulte: 9,
                        prixEnfant: 5
                    },
                    HAUTE: {
                        debut: '07-15',
                        fin: '08-31',
                        prixAdulte: 12,
                        prixEnfant: 6
                    }
                },
                services: {
                    electricite: 6,
                    vehicule: 3,
                    animal: 2
                },
                style: {
                    primaryColor: '#2c5530',
                    secondaryColor: '#4a8b3f'
                }
            };

            // Remplir les champs avec les valeurs existantes
            document.getElementById('basseSaisonDebut').value = config.saisons.BASSE.debut;
            document.getElementById('basseSaisonFin').value = config.saisons.BASSE.fin;
            document.getElementById('basseSaisonAdulte').value = config.saisons.BASSE.prixAdulte;
            document.getElementById('basseSaisonEnfant').value = config.saisons.BASSE.prixEnfant;

            document.getElementById('moyenneSaisonDebut').value = config.saisons.MOYENNE.debut;
            document.getElementById('moyenneSaisonFin').value = config.saisons.MOYENNE.fin;
            document.getElementById('moyenneSaisonAdulte').value = config.saisons.MOYENNE.prixAdulte;
            document.getElementById('moyenneSaisonEnfant').value = config.saisons.MOYENNE.prixEnfant;

            document.getElementById('hauteSaisonDebut').value = config.saisons.HAUTE.debut;
            document.getElementById('hauteSaisonFin').value = config.saisons.HAUTE.fin;
            document.getElementById('hauteSaisonAdulte').value = config.saisons.HAUTE.prixAdulte;
            document.getElementById('hauteSaisonEnfant').value = config.saisons.HAUTE.prixEnfant;

            document.getElementById('prixElectricite').value = config.services.electricite;
            document.getElementById('prixVehicule').value = config.services.vehicule;
            document.getElementById('prixAnimal').value = config.services.animal;

            document.getElementById('primaryColor').value = config.style.primaryColor;
            document.getElementById('secondaryColor').value = config.style.secondaryColor;
        }

        // Sauvegarder la configuration
        function sauvegarderConfiguration() {
            const config = {
                saisons: {
                    BASSE: {
                        debut: document.getElementById('basseSaisonDebut').value,
                        fin: document.getElementById('basseSaisonFin').value,
                        prixAdulte: parseFloat(document.getElementById('basseSaisonAdulte').value),
                        prixEnfant: parseFloat(document.getElementById('basseSaisonEnfant').value)
                    },
                    MOYENNE: {
                        debut: document.getElementById('moyenneSaisonDebut').value,
                        fin: document.getElementById('moyenneSaisonFin').value,
                        prixAdulte: parseFloat(document.getElementById('moyenneSaisonAdulte').value),
                        prixEnfant: parseFloat(document.getElementById('moyenneSaisonEnfant').value)
                    },
                    HAUTE: {
                        debut: document.getElementById('hauteSaisonDebut').value,
                        fin: document.getElementById('hauteSaisonFin').value,
                        prixAdulte: parseFloat(document.getElementById('hauteSaisonAdulte').value),
                        prixEnfant: parseFloat(document.getElementById('hauteSaisonEnfant').value)
                    }
                },
                services: {
                    electricite: parseFloat(document.getElementById('prixElectricite').value),
                    vehicule: parseFloat(document.getElementById('prixVehicule').value),
                    animal: parseFloat(document.getElementById('prixAnimal').value)
                },
                style: {
                    primaryColor: document.getElementById('primaryColor').value,
                    secondaryColor: document.getElementById('secondaryColor').value
                }
            };

            // Sauvegarder dans le localStorage
            localStorage.setItem('campingConfig', JSON.stringify(config));

            // Mettre à jour les variables CSS
            document.documentElement.style.setProperty('--primary-color', config.style.primaryColor);
            document.documentElement.style.setProperty('--secondary-color', config.style.secondaryColor);

            // Afficher le message de succès
            const successMessage = document.getElementById('successMessage');
            successMessage.style.display = 'block';
            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 3000);
        }

        // Charger la configuration au chargement de la page
        window.onload = chargerConfiguration;
    </script>
</body>
</html>
